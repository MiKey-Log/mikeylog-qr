<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mikeylog - Monthly Log</title>
    <style>
        /* フォントはシュールな明朝体 */
        body { 
            margin: 0; 
            background-color: #f8f9fa; 
            color: #333; 
            font-family: 'Times New Roman', "MS PMincho", "Hiragino Mincho ProN", serif; 
            display: flex; 
            flex-direction: column;
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            cursor: pointer;
        }

        /* 初回タップを促す案内 */
        #audio-hint {
            font-size: 10px;
            color: #ccc;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        #card { 
            text-align: center; 
            border-left: 5px solid #000; 
            padding: 40px; 
            width: 80%; 
            max-width: 400px; 
            background: #fff; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.05); 
        }
        
        /* 文字とロゴを一緒にふわっとさせるアニメーション */
        .fade-area { 
            animation: fadeIn 0.8s ease-in forwards; 
        }
        
        @keyframes fadeIn { 
            from { opacity: 0; } 
            to { opacity: 1; } 
        }

        .date { 
            font-size: 14px; 
            letter-spacing: 2px; 
            color: #999; 
            margin-bottom: 20px; 
            text-transform: uppercase; 
        }

        .msg-box { 
            font-size: 22px; 
            font-weight: 500; 
            line-height: 1.6; 
            min-height: 120px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
        }
        
        .signature-logo { 
            margin-top: 30px; 
        }

        .signature-logo img { 
            max-width: 140px; 
            height: auto; 
        }
    </style>
</head>
<body onclick="enableAudio()">

    <div id="audio-hint">TAP TO START SOUND</div>

    <div id="card">
        <div class="date">Special Message</div>
        
        <div id="fade-target" class="fade-area">
            <div class="msg-box" id="char-msg">...</div>
            <div class="signature-logo">
                <img src="https://github.com/MiKey-Log.png" alt="MikeyLog Logo">
            </div>
        </div>
    </div>

<script>
    const messages = [
        "さっきからずっと、隣の人の鼻息がリズムを刻んでいる。",
        "「期間限定」という言葉に、人生の半分くらいを支配されている気がする。",
        "傘を持ってきた日に限って、雨が降らないのはなぜだろう。",
        "今、あなたの後ろに誰か立っていますか？……あ、気のせいでした。",
        "昨日の晩ごはんが思い出せなくて、少しだけ自分に絶望している。",
        "正直に言います。このQRコード、あなたが初めての読み取りかもしれません。"
    ];

    let i = 0;
    let audioContext = null;
    const msgBox = document.getElementById('char-msg');
    const fadeTarget = document.getElementById('fade-target');
    const audioHint = document.getElementById('audio-hint');

    // ブラウザの音制限を解除し、音を鳴らす準備
    function enableAudio() {
        if (!audioContext) {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
            audioHint.style.display = 'none'; // タップされたら案内を消す
            playTickSound(); // 初回確認音
        }
    }

    // 電子音（ピッ）を生成する関数
    function playTickSound() {
        if (!audioContext) return;
        
        const osc = audioContext.createOscillator();
        const gain = audioContext.createGain();
        
        osc.connect(gain);
        gain.connect(audioContext.destination);

        osc.type = 'sine'; 
        osc.frequency.setValueAtTime(1200, audioContext.currentTime); // 高めのピ音
        
        gain.gain.setValueAtTime(0.05, audioContext.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.1);

        osc.start();
        osc.stop(audioContext.currentTime + 0.1);
    }

    function rotate() {
        // 音を鳴らす
        playTickSound();

        // アニメーションをリセット
        fadeTarget.style.animation = 'none';
        fadeTarget.offsetHeight; 
        
        setTimeout(() => {
            msgBox.textContent = messages[i];
            fadeTarget.style.animation = 'fadeIn 0.8s ease-in forwards';
            i = (i + 1) % messages.length;
        }, 50);
    }

    // 4.5秒ごとに切り替え
    setInterval(rotate, 4500);
    rotate();
</script>
</body>
</html>
